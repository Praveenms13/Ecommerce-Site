<%- include('../includes/head.ejs') %>
</head>
<body>
    <%- include('../includes/navigation.ejs') %>
    <main>
        <div class="row justify-content-center">
            <div class="col-md-auto text-center">
                <h1 class="mainMyProducts">Product Details</h1>
            </div>
        </div>
        <br><br></br>
        <article class="product">
            <section class="product__slider default-container" aria-label="Product preview">
                <button type="button" class="product__slider___btn-close-lightbox">
                    <span class="sr-only">Close lightbox</span>
                    <span class="icon icon-close" aria-hidden="true"></span>
                </button>  
                <div class="image-box" aria-label="Product preview" role="region">
                    <button type="button" class="btn-previousImage">
                        <span class="sr-only">Previous Image</span>
                        <span class="icon icon-previous" aria-hidden="true"></span>
                    </button>
                    <button type="button" class="btn-nextImage">
                        <span class="sr-only">Next Image</span>
                        <span class="icon icon-next" aria-hidden="true"></span>
                    </button>
                    <img src="<%= product.imageUrl %>" alt="Brown and white sneaker" class="image-box__src" data-product-id="item-cart-1" tabindex="0" aria-controls="lightbox" aria-expanded="false">
                </div>
                <ul class="product__thumbs default-container" aria-label="Product thumbnails">
                    <!-- Thumbnails code goes here -->
                </ul>
            </section>
            <section class="product__content default-container" aria-label="Product content">
                <header>
                    <h2 class="company-name" tabindex="0">Exclusively from Fresh 2 Day</h2>
                    <h3 class="product__title" tabindex="0"><%= product.title %></h3>
                </header>
                <p class="product__description" tabindex="0">
                    <%= product.description %>
                </p>
                <div class="product__price">
                    <div class="discount-price">
                    <%
                        const discountPercentage = product.discount;
                        if (discountPercentage === 0) {
                    %>
                            <p class="discount-price__value" tabindex="0">
                            &#x20B9;<%= product.price %>
                                <span class="sr-only">dollars</span>
                            </p>
                            <%
                            return;
                        }
                        const discountedPrice = product.price - (product.price * (discountPercentage / 100));
                    %>
                        <p class="discount-price__value" tabindex="0">
                        &#x20B9;<%= discountedPrice.toFixed(2) %>/<%= product.quantity %>
                            <span class="sr-only">dollars</span>
                        </p>
                        <p class="discount-price__discount" tabindex="0"><%= discountPercentage %>% off</p>
                    </div>
                    <div class="full-price">
                        <p tabindex="0">
                        &#x20B9;<%= product.price %>
                            <span class="sr-only">dollars</span>
                        </p>
                    </div>
                </div>
                <form action="#" class="cart-form">
                    <button type="button" class="cart-form__add-btn">
                        Add to cart
                    </button>
                </form>
            </section>
        </article>
    </main>
    <div class="lightbox" id="lightbox" role="dialog"></div>
    <%- include('../includes/end.ejs') %>